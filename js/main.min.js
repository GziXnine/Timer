var daysSpan=document.querySelector(".timer .timer-item span#days"),hoursSpan=document.querySelector(".timer .timer-item span#hours"),minutesSpan=document.querySelector(".timer .timer-item span#minutes"),secondsSpan=document.querySelector(".timer .timer-item span#seconds"),selectDate=document.querySelector("header select"),inputDate=document.getElementById("date"),buttonDate=document.querySelector("header button"),eventType=document.querySelector("h1"),para=document.querySelector(".para"),intervalId=null;function sendNotification(t,n){"Notification"in window&&("granted"===Notification.permission?new Notification(n,{body:t}):"denied"!==Notification.permission&&Notification.requestPermission().then(function(e){"granted"===e&&new Notification(n,{body:t})}))}function handleButtonClick(e){e.preventDefault(),clearInterval(intervalId);var e=selectDate.value,t=inputDate.value;t?(localStorage.setItem("eventType",e),localStorage.setItem("eventDate",t),("Event"===e?startEventCountdown:startBirthdayCountdown)()):eventType.innerHTML="Please enter a valid date!"}function startEventCountdown(){var e=new Date,t=new Date(inputDate.value);t<e?handlePastEvent():(eventType.innerHTML="Event Countdown",startCountdown(t))}function startBirthdayCountdown(){var e=new Date,t=inputDate.value.toString(),n=t.slice(0,4),n=e.getFullYear()-Number(n),a=getAgeSuffix(n);eventType.innerHTML="Happy Birthday <br> ".concat(n," <sup>").concat(a,"</sup>"),startCountdown(getNextBirthdayDate(t,e),!0)}function handlePastEvent(){eventType.innerHTML="Has passed.",alert("The selected event date has already passed!"),sendNotification("The event date you selected has already passed.","Event")}function getAgeSuffix(e){e=e.toString().slice(-1);return"1"===e?"st":"2"===e?"nd":"3"===e?"rd":"th"}function getNextBirthdayDate(e,t){e=new Date("".concat(e.slice(5,7)," ").concat(e.slice(8),", ").concat(t.getFullYear()," 00:00:01"));return e<t&&e.setFullYear(t.getFullYear()+1),e}function startCountdown(n,a){void 0===a&&(a=!1),intervalId=setInterval(function(){var e=n.getTime()-(new Date).getTime(),t=calculateTimeDiff(e);updateDisplay(t.days,t.hours,t.minutes,t.seconds),e<=0&&handleCountdownEnd(a)},1e3)}function calculateTimeDiff(e){return{days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3)}}function updateDisplay(e,t,n,a){daysSpan.innerHTML=formatTime(e),hoursSpan.innerHTML=formatTime(t),minutesSpan.innerHTML=formatTime(n),secondsSpan.innerHTML=formatTime(a)}function handleCountdownEnd(e){clearInterval(intervalId),eventType.innerHTML=e?"Happy Birthday! ðŸŽ‰":"Event started!",para.innerHTML=e?"Happy Birthday! ðŸŽ‰ðŸŽ‚ May this special day be filled with joy, laughter, and countless unforgettable moments. ðŸ’–":"The event is happening now!",sendNotification(e?"Happy Birthday! ðŸŽ‰ðŸŽ‚ Enjoy your special day!":"The event has started! Let's celebrate! ðŸŽ‰",e?"Birthday":"Event"),updateDisplay(0,0,0,0)}function loadSavedData(){var e=localStorage.getItem("eventType"),t=localStorage.getItem("eventDate");e&&t&&(inputDate.value=t,("Event"===(selectDate.value=e)?startEventCountdown:startBirthdayCountdown)())}function formatTime(e){return e<10?"0".concat(e):e.toString()}buttonDate.addEventListener("click",handleButtonClick);